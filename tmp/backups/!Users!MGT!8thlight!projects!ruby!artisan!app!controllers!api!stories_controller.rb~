class Api::StoriesController < ApplicationController

  respond_to :xml, :json

  before_filter :match_key

  def index
    respond_to do |format|
      format.xml { render :xml => @project.stories.to_xml(:only => [:name, :number, :optimistic, :realistic, :pessimistic, :acceptance_criteria]), :status => :ok }
      format.json { render :json => @project.stories.to_json(:only => [:name, :number, :optimistic, :realistic, :pessimistic, :acceptance_criteria]), :status => :ok }
    end
  end

  def backlog
    respond_to do |format|
      format.xml { render :xml => Artisan::Stories::StoriesInteractor.new(@project).backlog.stories.to_xml(:only => [:name, :number, :optimistic, :realistic, :pessimistic, :acceptance_criteria]), :status => :ok }
      format.json { render :json => Artisan::Stories::StoriesInteractor.new(@project).backlog.stories.to_json(:only => [:name, :number, :optimistic, :realistic, :pessimistic, :acceptance_criteria]), :status => :ok }
    end
  end

end
