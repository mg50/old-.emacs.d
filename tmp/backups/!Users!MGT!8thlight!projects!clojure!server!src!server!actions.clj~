(ns server.actions
  (:use [clojure.java.io :only [writer]]))

(def doc-root "/")

(defn echo [message]
  [200 message])

(defn serve-file [path]
  (try
    [200 (slurp (str doc-root path))]
    [404 "File not found"]))

(defn make-file [filename body]
  (try
    (with-open [wrtr (writer (str "/tmp/" filename))]
      (.write writer body)
      [200 "File successfully written."])
    [500 "Unable to write file."]))
