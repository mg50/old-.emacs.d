namespace("Abacus.Views", {
  Contact: Abacus.Views.SimpleMustacheView.extend({
    tagName: 'li',
    template: 'contact',

    events: {
      'click .label': 'edit',
      'click .delete': 'delete'
    },

    presenterData: function() {
      return this.model.attributes;
    },

    edit: function(event) {
      event.preventDefault();
      event.stopPropagation();

      this.showContactEdit();
    },

    showContactEdit: function() {
      var view = new Abacus.Views.ContactEdit({
        el: '#modal',
        model: this.model
      });

      view.render();
    },
    
    delete: function(event) {
      event.preventDefault();
      event.stopPropagation();
      
      this.model.destroy();
    }
  })
});
