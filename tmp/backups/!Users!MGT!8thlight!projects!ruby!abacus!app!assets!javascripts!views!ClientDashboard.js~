
namespace("Abacus.Views", {
  ClientDashboard: Abacus.Views.MustacheInDialogView.extend({
    template: 'client_dashboard',
    
    childViews: function() {
      this.detailEditView = new Abacus.Views.DetailEdit({
        el: '#client-container',
        model: this.model,
        detailView: Abacus.Views.ClientDetails,
        editView: Abacus.Views.ClientEdit
      });
      
      this.detailEditView.render();
      
      var projects = this.model.get('projects').models;
      this.projectsView = new Abacus.Views.ProjectCollection({
        el: "#projects-container",
        collection: new Abacus.Collections.Projects(projects)
      })
      this.projectsView.render();
    }
  })
});
