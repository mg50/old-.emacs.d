namespace('Hosemonster.Views', {
    TestPointList: Backbone.View.extend({
        el: $('#test-points'),

        events: {
            'click #add-test-point': 'addBlankTestPoint'
        },

        render: function() {
            var ul = this.$el.find("#list");
            ul.html('');
            _.each(this.collection.models, function(model) {
                var testPointView = new Hosemonster.Views.TestPointDisplay({model: model});
                testPointView.render();
                ul.append(testPointView.$el);
            });
        },

        addBlankTestPoint: function() {
            var testPoint = new Hosemonster.Models.TestPoint();
            this.collection.add(testPoint);
            this.render();
        }
    })
});
